
	★ deflister ★

【　名称　】deflister (definition listupper)
【Version 】1.14
【開発環境】Windows XP SP3 HomeEdition
【 更新日 】2009年 7月 29日(水)
【　種別　】フリー・ソフトウェア
【 開発者 】上大
【DownLoad】http://prograpark.ninja-web.net/ -> たまり場 -> ソフト

＠目次
　・概要
　・インストール
　・アンインストール
　・パッケージ
　・使い方
　・著作権
　・謝辞
　・参照
　・更新履歴

＠概要
	HSP3スクリプトに含まれる定義を一覧にするソフトです。
	HSP3に同梱されているスクリプトエディタに、外部ツールとして登録する
	ことで、ラベル参照と同じ感覚で定義を参照することが可能になります。
	ラベルも拾うため、ラベル参照の上位互換となっています。
	
＠インストール
	解凍以外の手続きは不要です。レジストリは一切汚しません。
	
＠アンインストール
	展開されたファイルを、フォルダごと削除するだけでかまいません。
	「＠パッケージ」を参照してください。
	
＠パッケージ
	[deflister]
	┣ deflister.exe　 : ソフト本体。
	┣ deflister.ini　 : 設定ファイル。なくても一応動きます。
	┗ readme.txt　　　: このファイル。説明書。
	
＠使い方
　・外部ツールとして使う場合
	HSP3標準スクリプトエディタ(hsed3)の外部ツールとして登録する場合、
	コマンドラインを「hsed」とだけにしておいてください。
	コマンドラインがない場合は、通常実行と見なし、hsed を無視します。
	
	※hsp3.1 〜 hsp3.2RC1までに同梱されているもの以外での動作は確認していません。
	
　・コマンドライン
	三通りあります。
	１. hsed
		hsed3 の外部ツールとして実行します。
	２. filename
		ファイル名を指定して開きます。
	３. なし
		対象スクリプトを、ダイアログで選択します。これが通常実行です。
	
	コマンドラインとは何か、は割愛させていただきます。
	
　・使用上の注意
	ファイルの改行コードは CRLF、文字コードは SHIFT_JIS と信じて処理し
	ている部分が多々あります。それ以外のエンコードでは、正常に処理され
	ない可能性が高いので、お気を付けください。この問題は、後々修正する
	予定です。
	
　・拾ってくる定義
	プリプロセッサ命令とラベルです。ラベルは、次の場合に限定されます。
		行頭、行頭＋識別子の次、「{}:,」の次
	
	次のプリプロセッサ命令の次にある識別子を拾います。
		命令     : deffunc,   modfunc,  func
		関数     : defcfunc, modcfunc, cfunc
		マクロ   : define
		定数     : const, enum
		コマンド : cmd
		
	次の識別子を無視します。
		global, local, ctype, double
	
　・種類カラム
	定義されている識別子の種類です。命令、関数、マクロ、定数、ラベルの
	５パターンがあります。
	オプションとして、以下の文字列が付属している可能性があります。
	
		Ｃ　…… ctype  ( 関数形式マクロ )
		Ｍ　…… module ( #modfunc や #modcfunc )
	
　・範囲カラム
	これは、定義される空間の名前になります。 空間は、識別子の後ろに@を
	つけるか、 #module 〜 #global の内部で定義することによって定まりま
	す。 @に続く空間名が省略されている場合は、グローバル領域での定義と
	なります。
	以下の場合、範囲カラムには特別な文字列が入ります。正確( 正式 )な空
	間名ではありません。
	
		グローバル領域　…… global
		すべての領域　　…… *
		無名モジュール　…… m? [unique]
		local 指定　　　…… ... [local]
	
	すべての領域とは、#deffunc や、 global 付きの #define などです。す
	べての領域で永続的に使用できるため、これらには範囲がありません。
	#deffuncなどで local 指定をした場合、同じモジュール空間からも @...
	が必要になるので、[local] と表示し、他の命令と区別されます。
	
　・ファイルカラム
	定義収集対象のファイル名になります。hsed3で編集中のファイルは、
	[hsedtmp.hsp]というファイル名になります。( 一時ファイルです )
	
＠著作権
	本ソフトウェアの著作権は、作者の上大にあります。
	
	誰でも、パッケージに含まれるモノはすべて、改変の有無、一部・全部にかかわらず
	自由に使用、流用、配布することができます。
	
＠謝辞
	とても簡単に、高度なプログラミングのできるHSPを開発してくださる、
	おにたまさん、OpenHSPのコミッタの方々に、感謝いたします。
	
＠関連URL
	・プログラ広場
		deflisterの最新版の入手はここのたまり場で(ソフト・モジュールのたまり場)、
		ご意見、ご要望、バグ報告、質問などはここの掲示板へお願いします。
		過疎っていますが、遠慮なくどうぞ。
		http://prograpark.ninja-web.net/
	
	・HSP本家サイト
		http://hsp.tv/
	
＠更新履歴
2009 07/29 (Wed)
	・#modcfunc を拾えるバージョンをリリース。
		ついでに modvar ハックを #modcfunc に修整。
	・なぜか対応していなかった #func、#cfunc、#cmd に対応。
	・エディットボックスをスクロールするとき、定義より何行前を基準にするかを
		ini ファイルで指定できるようにした。( Editbox/cntShowLineBefore )
	
2009 07/12 (Sun)
	・#modcfunc が拾えていなかったバグを修正 (無害ではあるが)。
	
2009 05/11(Mon)
	・設定ファイルを作るようにした。
		・include先を探すかどうか
		・カスタムドローするかどうか
		・ウィンドウの位置
		・コントロールのフォント
		などを保存する。
	・開いたファイルでない宣言をLvで選択したときに、そのファイルを読み込んで、
		( まぁ当然キャッシュしてるんだが ) Editbox で周囲を見られるようにした。
		※若干遅いが……気にしない！ (既に十分遅い)
	
2008 12/08(Mon)
	・double を無視するように変更。( #const )
	
2008 11/24(Mon)
	# 前日から引き続き……
	・バージョン1.12をリリース。
	
2008 11/23(Sun)
	・実行してもカレントディレクトリを変更しないように修整。
	・common のパスを hsed3 のパスから計算するように変更。
	・定義をスクリプトではなくファイルから取り出すように変更。
		→ hsed の場合、必ず一時ファイルを作成する。
	・TookDefinition 命令や deflist〜系の配列を、
		モジュールクラスで扱うように修整。見やすくなった。
	・hsed のプロセスメモリを操作するようになったため、3.1版以外での
		動作を保証できなくなった。
	・Ｄ＆Ｄの時、ClipCursor関数でマウスカーソルの移動範囲を制限
		するように変更。これで、端っこでぴくぴくすることがなくなった。
		→ onerror を受付、bDragging が真なら移動範囲を解放する。
	・無名モジュール空間を m? [unique] に変更。[local] に合わせてみた。
	・無条件でファイルカラムを追加。
		前は、include先も対象にするときだけだった。→ 簡略化のため。
	・ファイルを読み込むときに、検索パスに追加するよう修整。
		→ かなり遅くなる。なんとかなるのか……？
	
2008 11/22(Sat)
	・Mutex によって二重起動を防止。
		埋もれていても、二重起動することで最前面に戻せるようになった。
	・バージョン1.11をリリース。
	
2008 11/20(Thu)
	・無名モジュール空間が (n)unique になるように修整。
		以前は空だった。
	・#deffunc #modfunc #defcfunc #modcfunc を、デフォルトで
		永続 global 指定にした。( @ や local がない場合 )
	・local はただの global 外しではないので、
		範囲に[local] を付加するように修整。
	
2008 11/19(Wed)
	・リストボックスではなく、リストビューに変更。
		「行番号、識別子、種類、範囲」を拾う。
		カスタムドローを検討。
	・一行一行切り出す方式から、HPMで構文解析を行うように変更。
		ラベルも拾うため。
	・↑により、行番号の取得方法を変更。いちいち関数を呼び出して
		行番号を求めるように修整。
	・↑により、非常に低速化したので、indexもリストにするように修整。
		まだましな速度に落ち着いた。
	・ランタイムを hsp3mt に変更。高速になる。( ファイルサイズは増加 )
		テストでは、hsp3 の(3/2)倍速だった。
	・記号 @ を処理するように修整。
	・EnterキーやＷクリックでジャンプ出来るように修整。(LVN_ITEMACTIVATE)
	・バージョン 1.10 が完成、公開。
	
	・リストビューをカスタムドローにしてみた。
		見やすくなった気はしない。
	
2008 11/18(Tue)
	・初期バージョンが完成。公開。( HSPTV!::HSP3掲示板で宣伝 )

Copyright(C) 2008 - 2009 ue-dai.